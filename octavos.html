<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Octavos de Final â€” Ruleta Oficial</title>
  <link rel="icon" href="imagenes/logo1.png" type="image/png" />
  <link rel="stylesheet" href="octavos.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="imagenes/logo1.png" alt="logo" class="logo"/>
      <div>
        <h1 id="saludo">Hola...</h1>
        <p id="sub">Verificando acceso...</p>
      </div>
    </div>
    <div class="actions">
      <button id="helpBtn" class="icon-btn" title="Ayuda">?</button>
    </div>
  </header>

  <main class="main">
    <section id="panel" class="panel card">
      <div id="wheelCard" class="wheel-card hidden">
        <div class="wheel-wrap">
          <canvas id="wheel"></canvas>
          <div class="pointer">â–¼</div>
        </div>

        <div class="wheel-controls">
          <p id="spinMsg" class="muted">
            Pulsa el botÃ³n para girar la ruleta y obtener tu equipo.
          </p>
          <button id="btnTake" class="primary">ðŸŽ¯ Tomar mi equipo</button>
        </div>
      </div>

      <div id="resultsCard" class="results-card hidden card">
        <div class="results-head">
          <h2>Participantes â€” Equipos asignados</h2>
          <div class="legend">
            <span class="dot green"></span> Activo
            <span class="dot red"></span> Eliminado
          </div>
        </div>

        <div class="table-wrap">
          <table id="resultsTable" class="resultsTable">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Equipo</th>
                <th>AsignaciÃ³n</th>
                <th>Estatus CompeticiÃ³n</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div id="winnerBanner" class="winner hidden"></div>
      </div>

      <div class="bottom-actions">
        <button id="backBtn" class="secondary">â¬… Volver al MenÃº</button>
      </div>
    </section>
  </main>

  <dialog id="helpModal" class="modal hidden">
    <div class="modal-card">
      <h3>Â¿CÃ³mo funciona?</h3>
      <p>
        En esta secciÃ³n los 8 participantes autorizados obtendrÃ¡n un equipo
        aleatorio al girar la ruleta. Cada equipo solo puede asignarse una vez.
        El administrador configura los participantes y los equipos desde el
        panel de administraciÃ³n.
      </p>
      <ul>
        <li>Solo los usuarios autorizados ven la ruleta.</li>
        <li>Cada jugador puede girar una sola vez.</li>
        <li>Cuando se asigna un equipo desaparece de la ruleta.</li>
      </ul>
      <button id="closeHelp" class="primary">Cerrar</button>
    </div>
  </dialog>

  <script type="module">
    const helpBtn = document.getElementById("helpBtn");
    const helpModal = document.getElementById("helpModal");
    const closeHelp = document.getElementById("closeHelp");

    window.addEventListener("DOMContentLoaded", () => {
      if (helpModal.open) helpModal.close();
    });

    helpBtn.addEventListener("click", () => {
      helpModal.showModal();
    });

    closeHelp.addEventListener("click", () => {
      helpModal.close();
    });
  </script>

  <script type="module" src="octavos.js"></script>

</body>
</html>
